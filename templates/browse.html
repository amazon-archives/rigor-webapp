<!DOCTYPE html>
<html lang="en" ng-app="browseApp" ng-controller="BrowseController">
<head>
    <title> Rigor </title>
    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/static/css/vendor/bootstrap.css" />
    <link rel="stylesheet" href="/static/css/rigor.css" />
    <script src="/static/js/vendor/angular-1.0.6.js" type="text/javascript" charset="utf-8"></script>
    <script src="/static/js/browse.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>

<div class="container">

    <div class="row">
        <div class="span12">

            <h2> Rigor </h2>

        </div>
    </div>
    <div class="row">
        <div class="span3">

            <!-- SEARCH -->
            <div class="well well-small">
                <form ng-submit="clickSearchButton()" class="no-bottom-margin">
                    <label>database</label>
                    <select class="span2" ng-model="query.database_name">
                        <option ng-repeat="dbname in database_names">(( dbname ))</option>
                    </select>

                    <label>source</label>
                    <select class="span2" ng-model="query.source">
                        <option ng-repeat="source in sources">(( source ))</option>
                    </select>

                    <label>sensor</label>
                    <select class="span2" ng-model="query.sensor">
                        <option ng-repeat="sensor in sensors">(( sensor ))</option>
                    </select>

                    <label>has_tags</label>
                    <!--<input type="text" class="span2" ng-model="query.exclude_tags">-->
                    <textarea rows=3 class="span2" ng-model="query.has_tags"></textarea>

                    <label>exclude_tags</label>
                    <textarea rows=3 class="span2" ng-model="query.excludet_tags"></textarea>

                    <div class="btn-group">
                        <button type="submit" class="btn btn-primary">Search</button>
                        <a href="#" ng-click="clickClearButton()" class="btn">Clear</a>
                    </div>
                </form>
            </div>

            <!-- RESULT STATS -->
            <div class="well well-small">
                <h4> (( images.length )) Results &rarr; </h4>
                <p>
                    Stats will go here
                </p>
            </div>

            <!-- BATCH EDIT -->
            <div class="well well-small">
                <h4> Batch Edit </h4>
                <p>
                    Lines <br>
                    Words <br>
                    Characters
                </p>
            </div>
        </div>

        <div class="span9">

            <ul class="pager">
                <li ng-class="{previous: true,  disabled: !prevButtonIsEnabled()}">
                    <a href="#" ng-click="clickPrevButton()">&larr; Prev</a>
                </li>
                <b> Page (( query.page+1 )) </b>
                <li ng-class="{next: true,  disabled: !nextButtonIsEnabled()}">
                    <a href="#" ng-click="clickNextButton()">Next &rarr;</a>
                </li>
            </ul>

            <!-- IMAGES -->
            <ul class="thumbnails">

                <li class="span3" ng-repeat="image in images">
                    <div class="thumbnail">
                        <img ng-src="(( image.thumb_url ))" width=128>
                        <p>
                                 id: <strong>(( image.id ))</strong>
                            <br> date: <strong>(( image.stamp*1000 | date:'yyyy-MM-dd' ))</strong>
                            <br> sensor: <strong>(( image.sensor ))</strong>
                            <br> source: <strong>(( image.source ))</strong>
                            <br> <span ng-repeat="tag in image.tags">
                                    <a href="#" ng-click="clickTag(tag)" class="label label-info">(( tag ))</a>
                                 </span>
                        </p>
                    </div>
                </li>

            </ul>

        </div>
    </div>

</div>

</body>
</html>
